package com.twitter.intellij.pants.resolve;

import com.twitter.intellij.pants.service.project.PantsResolver;
import junit.framework.TestCase;

public class ProjectInfoParserTest extends TestCase {
  public void testParsing() {
    final String data =
      "{\"libraries\": {\"com.twitter.common:stats:0.0.90\": [\"/Users/fkorotkov/.ivy2/twitter-commons/com.twitter.common/stats/jars/stats-0.0.90.jar\"], \"com.twitter.common:quantity:0.0.68\": [], \"com.twitter.common:quantity:0.0.69\": [\"/Users/fkorotkov/.ivy2/twitter-commons/com.twitter.common/quantity/jars/quantity-0.0.69.jar\"], \"com.twitter.common:stat:0.0.27\": [\"/Users/fkorotkov/.ivy2/twitter-commons/com.twitter.common/stat/jars/stat-0.0.27.jar\"], \"commons-lang:commons-lang:2.6\": [\"/Users/fkorotkov/.ivy2/twitter-commons/commons-lang/commons-lang/jars/commons-lang-2.6.jar\"], \"com.twitter.common:util-system-mocks:0.0.69\": [], \"com.twitter.common:collections:0.0.72\": [\"/Users/fkorotkov/.ivy2/twitter-commons/com.twitter.common/collections/jars/collections-0.0.72.jar\"], \"com.twitter.common:collections:0.0.71\": [], \"asm:asm:3.1\": [\"/Users/fkorotkov/.ivy2/twitter-commons/asm/asm/jars/asm-3.1.jar\"], \"com.sun.jersey:jersey-core:1.12\": [\"/Users/fkorotkov/.ivy2/twitter-commons/com.sun.jersey/jersey-core/bundles/jersey-core-1.12.jar\"], \"com.twitter.common:util-sampler:0.0.52\": [\"/Users/fkorotkov/.ivy2/twitter-commons/com.twitter.common/util-sampler/jars/util-sampler-0.0.52.jar\"], \"com.google.code.findbugs:jsr305:1.3.9\": [], \"com.twitter.common:util-system-mocks:0.0.70\": [\"/Users/fkorotkov/.ivy2/twitter-commons/com.twitter.common/util-system-mocks/jars/util-system-mocks-0.0.70.jar\"], \"com.twitter.common:base:0.0.84\": [], \"com.twitter.common:base:0.0.85\": [\"/Users/fkorotkov/.ivy2/twitter-commons/com.twitter.common/base/jars/base-0.0.85.jar\"], \"javax.inject:javax.inject:1\": [\"/Users/fkorotkov/.ivy2/twitter-commons/javax.inject/javax.inject/jars/javax.inject-1.jar\"], \"com.twitter.common:application-action:0.0.67\": [\"/Users/fkorotkov/.ivy2/twitter-commons/com.twitter.common/application-action/jars/application-action-0.0.67.jar\"], \"com.twitter.common:stats-provider:0.0.55\": [\"/Users/fkorotkov/.ivy2/twitter-commons/com.twitter.common/stats-provider/jars/stats-provider-0.0.55.jar\"], \"aopalliance:aopalliance:1.0\": [\"/Users/fkorotkov/.ivy2/twitter-commons/aopalliance/aopalliance/jars/aopalliance-1.0.jar\"], \"com.google.guava:guava:15.0\": [], \"com.google.inject:guice:3.0\": [\"/Users/fkorotkov/.ivy2/twitter-commons/com.google.inject/guice/jars/guice-3.0.jar\"], \"com.twitter.common:stat-registry:0.0.25\": [\"/Users/fkorotkov/.ivy2/twitter-commons/com.twitter.common/stat-registry/jars/stat-registry-0.0.25.jar\"], \"com.google.code.findbugs:jsr305:2.0.1\": [\"/Users/fkorotkov/.ivy2/twitter-commons/com.google.code.findbugs/jsr305/jars/jsr305-2.0.1.jar\"], \"org.sonatype.sisu.inject:cglib:2.2.1-v20090111\": [\"/Users/fkorotkov/.ivy2/twitter-commons/org.sonatype.sisu.inject/cglib/jars/cglib-2.2.1-v20090111.jar\"], \"com.google.guava:guava:16.0\": [\"/Users/fkorotkov/.ivy2/twitter-commons/com.google.guava/guava/bundles/guava-16.0.jar\"]}, \"targets\": {\"3rdparty/BUILD:jsr305\": {\"libraries\": [\"com.google.code.findbugs:jsr305:1.3.9\"], \"targets\": [], \"roots\": [], \"target_type\": SOURCE}, \"3rdparty/jvm/com/twitter/common/BUILD:stats\": {\"libraries\": [\"com.twitter.common:stats:0.0.90\"], \"targets\": [], \"roots\": [], \"target_type\": SOURCE}, \"3rdparty/BUILD:guice\": {\"libraries\": [\"com.google.inject:guice:3.0\"], \"targets\": [], \"roots\": [], \"target_type\": SOURCE}, \"3rdparty/BUILD:guava\": {\"libraries\": [\"com.google.guava:guava:15.0\", \"javax.inject:javax.inject:1\"], \"targets\": [\"3rdparty/BUILD:jsr305\"], \"roots\": [], \"target_type\": SOURCE}, \"src/java/com/pants/examples/pingpong/handler/BUILD:handler\": {\"libraries\": [\"com.google.guava:guava:15.0\", \"com.google.code.findbugs:jsr305:1.3.9\", \"javax.inject:javax.inject:1\", \"com.google.inject:guice:3.0\", \"com.sun.jersey:jersey-core:1.12\", \"com.twitter.common:base:0.0.85\", \"com.twitter.common:stats:0.0.90\"], \"targets\": [], \"roots\": [{\"source_root\": \"/Users/fkorotkov/workspace/pants/src/java/com/pants/examples/pingpong/handler\", \"package_prefix\": \"com.pants.examples.pingpong.handler\"}], \"target_type\": SOURCE}, \"3rdparty/jvm/com/twitter/common/BUILD:base\": {\"libraries\": [\"com.twitter.common:base:0.0.85\"], \"targets\": [], \"roots\": [], \"target_type\": SOURCE}, \"3rdparty/jvm/com/sun/jersey/BUILD:jersey-core\": {\"libraries\": [\"com.sun.jersey:jersey-core:1.12\"], \"targets\": [], \"roots\": [], \"target_type\": \"source\"}}}";
    final PantsResolver.ProjectInfo projectInfo = PantsResolver.parseProjectInfoFromJSON(data);
    final String mainTarget = "src/scala/com/twitter/algebird_internal/BUILD:algebird_internal";
    projectInfo.targets.get(mainTarget);
  }
}
